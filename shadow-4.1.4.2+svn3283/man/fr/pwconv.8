'\" t
.\"     Title: pwconv
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.75.2 <http://docbook.sf.net/>
.\"      Date: 05/09/2010
.\"    Manual: Commandes de gestion du syst\(`eme
.\"    Source: Commandes de gestion du syst\(`eme
.\"  Language: French
.\"
.TH "PWCONV" "8" "05/09/2010" "Commandes de gestion du syst\(`em" "Commandes de gestion du syst\(`em"
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NOM"
pwconv, pwunconv, grpconv, grpunconv \- Convertir vers ou depuis les fichiers de mots de passe ou de groupe cach\('es
.SH "SYNOPSIS"
.HP \w'\fBpwconv\fR\ 'u
\fBpwconv\fR
.HP \w'\fBpwunconv\fR\ 'u
\fBpwunconv\fR
.HP \w'\fBgrpconv\fR\ 'u
\fBgrpconv\fR
.HP \w'\fBgrpunconv\fR\ 'u
\fBgrpunconv\fR
.SH "DESCRIPTION"
.PP
La commande
\fBpwconv\fR
cr\('ee le fichier
\fIshadow\fR
\(`a partir du fichier
\fIpasswd\fR
et d\*(Aqun \('eventuel fichier
\fIshadow\fR\&.
.PP
La commande
\fBpwunconv\fR
cr\('ee le fichier
\fIpasswd\fR
\(`a partir des fichiers
\fIpasswd\fR
et
\fIshadow\fR
puis supprime
\fIshadow\fR\&.
.PP
La commande
\fBgrpconv\fR
cr\('ee
\fIgshadow\fR
\(`a partir de
\fIgroup\fR
et d\*(Aqun \('eventuel fichier
\fIgshadow\fR\&.
.PP
La commande
\fBgrpunconv\fR
cr\('ee
\fIgroup\fR
\(`a partir des fichiers
\fIgroup\fR
et
\fIgshadow\fR
puis supprime
\fIgshadow\fR\&.
.PP
Ces quatre programmes op\(`erent sur les fichiers de mots de passe et d\*(Aqinformations sur les groupes cach\('es ou non\ \&:
/etc/passwd,
/etc/group,
/etc/shadow, et
/etc/gshadow\&.
.PP
Chaque programme place les verrous n\('ecessaires avant d\*(Aqeffectuer la conversion\&.
\fBPwconv\fR
et
\fBgrpconv\fR
sont similaires\&. Dans un premier temps, les entr\('ees du fichier de mots de passe cach\('es (/etc/shadow
ou
/etc/gshadow) qui n\*(Aqexistent pas dans le fichier principal (passwd
ou
group), sont retir\('ees\&. Ensuite, les entr\('ees du fichier
shadow
n\*(Aqayant pas pour mot de passe \(Fo\ \&x\ \&\(Fc dans le fichier
passwd
sont mises \(`a jour\&. Enfin, les mots de passe du fichier
passwd
sont remplac\('es par \(Fo\ \&x\ \&\(Fc\&. Ces programmes peuvent \(^etre utilis\('es pour une premi\(`ere conversion, ou bien pour une mise \(`a jour, si les fichiers principaux [\ \&NdT\ \&: non cach\('es\ \&] ont \('et\('e \('edit\('es \(`a la main\&.
.PP
Lors de l\*(Aqajout de nouvelles entr\('ees dans
/etc/shadow,
\fBpwconv\fR
utilisera les valeurs de
\fIPASS_MIN_DAYS\fR,
\fIPASS_MAX_DAYS\fR, et
\fIPASS_WARN_AGE\fR
d\('efinies dans le fichier
/etc/login\&.defs\&.
.PP
De m\(^eme,
\fBpwunconv\fR
et
\fBgrpunconv\fR
sont similaires\&. Les mots de passe des fichiers principaux sont mis \(`a jour \(`a partir des fichiers d\*(Aqinformations cach\('ees (\(Fo\ \&shadowed file\ \&\(Fc)\&. Les entr\('ees existant dans un fichier principal, mais pas dans le fichier cach\('e sont laiss\('ees\&. Enfin, le fichier cach\('e est supprim\('e\&. Certaines informations d\*(Aq\(^age des mots de passe sont perdues par
\fBpwunconv\fR\&. Il ne convertit que ce qu\*(Aqil peut\&.
.SH "BOGUES"
.PP
Des erreurs dans les fichiers de mots de passe ou d\*(Aqinformations sur les groupes (comme des entr\('ees invalides ou redondantes) peuvent conduire ces programmes \(`a boucler ind\('efiniment ou \(`a \('echouer d\*(Aqune mani\(`ere toute aussi \('etrange\&. Veuillez ex\('ecuter
\fBpwck\fR
et
\fBgrpck\fR
pour corriger ces erreurs avant lancer toute conversion\&.
.SH "CONFIGURATION"
.PP
The following configuration variable in
/etc/login\&.defs
changes the behavior of
\fBgrpconv\fR
and
\fBgrpunconv\fR:
.PP
\fBMAX_MEMBERS_PER_GROUP\fR (nombre)
.RS 4
Nombre maximum de membres par entr\('ee de groupe\&. Lorsque le maximum est atteint, une nouvelle entr\('ee de groupe (ligne) est d\('emarr\('ee dans
/etc/group
(avec le m\(^eme nom, m\(^eme mot de passe, et m\(^eme GID)\&.
.sp
La valeur par d\('efaut est 0, ce qui signifie qu\*(Aqil n\*(Aqy a pas de limites pour le nombre de membres dans un groupe\&.
.sp
Cette fonctionnalit\('e (groupe d\('ecoup\('e) permet de limiter la longueur des lignes dans le fichier de groupes\&. Ceci est utile pour s\*(Aqassurer que les lignes pour les groupes NIS ne sont pas plus grandes que 1024 caract\(`eres\&.
.sp
Si vous avez besoin de fixer cette limite, vous pouvez utiliser 25\&.
.sp
Remarque\ \&: les groupes d\('ecoup\('es ne sont peut\-\(^etre pas pris en charge par tous les outils (m\(^eme dans la suite d\*(Aqoutils Shadow)\&. Vous ne devriez pas utiliser cette variable, sauf si vous en avez vraiment besoin\&.
.RE
.PP
The following configuration variables in
/etc/login\&.defs
change the behavior of
\fBpwconv\fR:
.PP
\fBPASS_MAX_DAYS\fR (nombre)
.RS 4
Nombre maximum de jours de validit\('e d\*(Aqun mot de passe\&. Apr\(`es cette dur\('ee, une modification du mot de passe est obligatoire\&. S\*(Aqil n\*(Aqest pas pr\('ecis\('e, la valeur de \-1 est utilis\('ee (ce qui enl\(`eve toute restriction)\&.
.RE
.PP
\fBPASS_MIN_DAYS\fR (nombre)
.RS 4
Nombre minimum de jours autoris\('e avant la modification d\*(Aqun mot de passe\&. Toute tentative de modification du mot de passe avant cette dur\('ee est rejet\('ee\&. S\*(Aqil n\*(Aqest pas pr\('ecis\('e, la valeur de \-1 est utilis\('ee (ce qui enl\(`eve toute restriction)\&.
.RE
.PP
\fBPASS_WARN_AGE\fR (nombre)
.RS 4
Nombre de jours durant lesquels l\*(Aqutilisateur recevra un avertissement avant que son mot de passe n\*(Aqarrive en fin de validit\('e\&. Une valeur n\('egative signifie qu\*(Aqaucun avertissement n\*(Aqest donn\('e\&. S\*(Aqil n\*(Aqest pas pr\('ecis\('e, aucun avertissement n\*(Aqest donn\('e\&.
.RE
.SH "FICHIERS"
.PP
/etc/login\&.defs
.RS 4
Configuration de la suite des mots de passe cach\('es \(Fo\ \&shadow password\ \&\(Fc\&.
.RE
.SH "VOIR AUSSI"
.PP
\fBgrpck\fR(8),
\fBlogin.defs\fR(5),
\fBpwck\fR(8)\&.
